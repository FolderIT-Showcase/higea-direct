<br>
<div class="list-group app-scroll-70">
  <div class="table-responsive">
    <div *ngIf="!turnos[0] && clickCounter > 1" class="app-container-row" style="position: absolute; z-index: 100;">
      <a class="list-group-item app-no-data">
        <div class="text-center">
          <h4> No hay turnos disponibles </h4>
          <h4> por favor busque nuevamente </h4>
        </div>
      </a>
    </div>
    <table class="table table-striped">
      <thead>
      <tr>
        <th>Hora</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let turno of timeline"
          [ngClass]="{'app-selectable-row': turno.enabled, 'app-timeline-marker': !turno.enabled}"
          (click)="showTurnoModal(turno)">
        <td>{{turno.hora | date: 'HH:mm'}}</td>
        <td class="text-right">
          {{turno.enabled ? 'RESERVAR TURNO' : ''}}
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<app-modal [title]="'Confirmación'" (outModal)="handleTurnoModal($event)">
  <div class="row">
    <div class="col-sm-12">
      <label>¿Querés tomar este turno?</label><br>
      <label>Para el dia <strong>{{turno.dia | date: 'dd/MM/yyyy'}}</strong> en el horario <strong>{{turno.hora|
        date:'HH:mm'}}</strong></label><br>
      <label>Para la especialidad <strong>{{turno.especialidad.nombre}}</strong> atendido por <strong>{{turno.profesional.nombre}}</strong></label><br>
      <!--<div *ngIf="false">-->
      <!--<sebm-google-map [latitude]="lat" [longitude]="lng">-->
      <!--<sebm-google-map-marker [latitude]="lat" [longitude]="lng"></sebm-google-map-marker>-->
      <!--</sebm-google-map>-->
      <!--</div>-->
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-sm-12">
      <strong> Por Favor seleccione el motivo del turno </strong>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12">
      <app-select
        ngDefaultControl
        [placeHolder]="'Motivo del turno'"
        (onChange)="handleMotivo($event)"
        [list]="motivos"
        [displayProp]="['descripcion']"
      ></app-select>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12 text-right">
      <button (click)="reservarTurno(turno)" [disabled]="!motivoTurno || !motivoTurno.id" class="btn btn-primary">SI
      </button>
      <button (click)="turnoModal.hide()" class="btn btn-default">NO</button>
    </div>
  </div>
</app-modal>


<div style="max-height:50px!important; overflow-y:scroll;">
  <app-modal [title]="'Confirmación'" (outModal)="handleSuccessModal($event)">
    <label>El turno ha sido tomado con éxito</label><br>
    <label><strong>Podés revisar tus turnos tomados accediendo al menu Mis Turnos</strong></label>
    <app-preparacion [persona]="persona"></app-preparacion>
    <div class="row">
      <div class="text-right">
        <div class="col-sm-12 col-md-4 col-md-offset-8">
          <a (click)="successModal.hide(); generarPDF()" class="btn btn-block btn-success">Imprimir</a>
        </div>
      </div>
    </div>
  </app-modal>
</div>

