<nav class="navbar navbar-default app-actionbar">
  <div class="container-fluid">
    <div class="navbar-right">
      <button type="button" class="btn btn-success navbar-btn" (click)="saveModal.show()">
        <span class="app-icon fa fa-plus"></span>
        Agregar Profesional
      </button>
    </div>
  </div>
</nav>
<!--TABLA-->
<a class="list-group-item">
  <h4 class="list-group-item-heading">Profesionales</h4>
  <p class="list-group-item-text"> {{profesionales.length}} Profesionales Activos</p>
</a>
<div *ngIf="profesionales[0]">
  <div class="table-responsive">
    <table class="table table-striped app-table">
      <thead>
      <tr>
        <th>Apellido</th>
        <th>Nombre</th>
        <th class="text-right">Acciones</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let profesional of pagedItems"
          [ngStyle]="{'background-color': profesional.seleccionado? '#67c18c' : '','color': profesional.seleccionado? 'white' : ''}">
        <td>{{profesional.apellido}}</td>
        <td>{{profesional.nombre }}</td>
        <td class="text-right">
          <div class="btn-group">
            <a (click)="showDeleteModal(profesional)" class="btn btn-danger btn-md">
              <span class="fa  fa-times"></span>
            </a>
            <a (click)="showUpdateModal(profesional)" class="btn btn-success btn-md">
              <span class="fa fa-pencil"></span>
            </a>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
    <div class="col-md-6">
      <pagination [boundaryLinks]="true" (pageChanged)="pageChanged($event)" [totalItems]="totalItems"
                  [(ngModel)]="currentPage" class="pagination-sm"
                  previousText="&lsaquo;" nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;"></pagination>
    </div>
  </div>
</div>


<!--MODAL-->
<app-modal [title]="'Nuevo Profesional'" (outModal)="handleSaveModal($event)">

  <form [formGroup]="form" (ngSubmit)="submitSaveForm(form.value)">
    <div class="row">
      <div class="col-sm-6">
        <div class="form-group"
             [ngClass]="{'has-error':!form.controls['nombre'].valid && form.controls['nombre'].touched}">
          <label>Nombre:</label>
          <input class="form-control" type="text" placeholder="Jose" [formControl]="form.controls['nombre']">
          <div *ngIf="form.controls['nombre'].hasError('required') && form.controls['nombre'].touched"
               class="help-block">Debes incluir tu nombre.
          </div>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="form-group"
             [ngClass]="{'has-error':!form.controls['apellido'].valid && form.controls['apellido'].touched}">
          <label>Apellido</label>
          <input class="form-control" type="text" placeholder="Perez" [formControl]="form.controls['apellido']">
          <small *ngIf="form.controls['apellido'].hasError('required') && form.controls['apellido'].touched"
                 class="help-block">Debes incluir tu apellido.
          </small>
        </div>
      </div>
    </div>


    <button type="submit" class="btn btn-primary btn-block" [disabled]="!form.valid">GUARDAR</button>

  </form>
</app-modal>

<!--MODAL UPDATE-->
<app-modal [title]="'Actualizar Profesional'" (outModal)="handleUpdateModal($event)">

  <form [formGroup]="form" (ngSubmit)="submitUpdateForm(form.value)">
    <div class="row">
      <div class="col-sm-6">
        <div class="form-group"
             [ngClass]="{'has-error':!form.controls['nombre'].valid && form.controls['nombre'].touched}">
          <label>Nombre:</label>
          <input [(ngModel)]="model.nombre" class="form-control" type="text" placeholder="Jose"
                 [formControl]="form.controls['nombre']">
        </div>
      </div>
      <div class="col-sm-6">
        <div class="form-group"
             [ngClass]="{'has-error':!form.controls['apellido'].valid && form.controls['apellido'].touched}">
          <label>Apellido</label>
          <input [(ngModel)]="model.apellido" class="form-control" type="text" placeholder="Perez"
                 [formControl]="form.controls['apellido']">
          <div *ngIf="form.controls['apellido'].hasError('required') && form.controls['apellido'].touched"
               class="help-block">Debes incluir tu apellido.
          </div>
        </div>
      </div>
    </div>


    <div class="text-right">
      <button type="submit" class="btn btn-primary" [disabled]="!form.valid">ACTUALIZAR</button>
    </div>

  </form>
</app-modal>

<!-- MODAL deBAJA Profesional-->
<app-modal [title]="'Confirmación'" (outModal)="handleDeleteModal($event)">
  <label>¿Querés dar de baja a este profesional?</label>
  <br>
  <label><strong>{{profesional.nombre}}</strong>
    <strong> {{profesional.apellido}}</strong>
  </label>
  <div class="text-right">
    <button type="button" class="btn btn-danger" (click)="deleteProfesional()">ELIMINAR</button>
  </div>
</app-modal>
