<nav class="navbar navbar-default app-actionbar">
  <div class="container-fluid">
    <div class="navbar-right">
      <button type="button" class="btn btn-success navbar-btn" (click)="staticModal.show()">
        <span class="app-icon fa fa-plus"></span>
        Agregar Profesional
      </button>
    </div>
  </div>
</nav>
<!--TABLA-->
<div class="row">
  <div *ngIf="profesionales[0]">
    <h4>
      Seleccione un profesional
    </h4>
    <div class="list-group">
      <a class="list-group-item active">
        <h4 class="list-group-item-heading">Profesionales</h4>
        <p class="list-group-item-text"> {{profesionales.length}} Profesionales Activos</p>
      </a>
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
          <tr>
            <th>Apellido</th>
            <th>Nombre</th>
            <th width="1em"></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let profesional of pagedItems"  [ngStyle]="{'background-color': profesional.seleccionado? '#67c18c' : '','color': profesional.seleccionado? 'white' : ''}" >
            <td>{{profesional.apellido}}</td>
            <td>{{profesional.nombre }}</td>
            <td>
              <a (click)="showModal(profesional)" class="btn btn-danger btn-md">
                <span class="fa  fa-times-rectangle"></span>
              </a>
            </td>
            <td>
              <a (click)="showModal(profesional)" class="btn btn-success btn-md">
                <span class="fa  fa-pencil-square"></span>
              </a>
            </td>
          </tr>
          </tbody>
        </table>
        <div class="col-md-6">
          <pagination [boundaryLinks]="true" (pageChanged)="pageChanged($event)" [totalItems]="totalItems"
                      [(ngModel)]="currentPage" class="pagination-sm"
                      previousText="&lsaquo;" nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;"></pagination>
        </div>
      </div>

    </div>
  </div>
</div>

<!--MODAL-->
<div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}"
     tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title pull-left">Nuevo Profesional</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="staticModal.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <form class="form-horizontal" name="f" (ngSubmit)="f.form.valid && crear()" #f="ngForm">
          <div class="row">
          <div class="col-sm-10">
            <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !especialidadName.valid }">
              <label for="especialidadName" class="control-label">Nombre</label>
              <input id="especialidadName" type="text" class="form-control" name="especialidadName"
                     [(ngModel)]="model.especialidadName" #especialidadName="ngModel" required/>
              <div *ngIf="f.submitted && !especialidadName.valid" class="help-block">Nombre obligatorio</div>
            </div>
            <label for="especialidadSurname" class="control-label">Apellido</label>
            <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !especialidadSurname.valid }">
              <input id="especialidadSurname" type="text" class="form-control" name="especialidadSurname"
                     [(ngModel)]="model.especialidadSurname" #especialidadName="ngModel" required/>
              <div *ngIf="f.submitted && !especialidadSurname.valid" class="help-block">Apellido obligatorio</div>
            </div>
          </div>
            <div class="col-sm-2 text-center">
                <button class="btn btn-primary">Guardar</button>
            </div>

           </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- MODAL deBAJA Profesional-->
<div *ngIf="isModalShown" [config]="{ show: true }" (onHidden)="onHidden()" bsModal #autoShownModal="bs-modal"
     class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title pull-left"><strong>Confirmación</strong></h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="hideModal()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <label>¿Querés dar de baja a este profesional?</label><br>
        <label>Para el dia <strong>{{profesional.nombre}}</strong><strong>{{profesional.apellido}}</strong></label><br>
        <div class="row">
          <div class="col-sm-8"></div>
          <div class="col-sm-4">
            <div class="btn-group btn-group-justified">
              <a (click)="deleteProfesional(profesional)" class="btn btn-primary">SI</a>
              <a (click)="hideModal()" class="btn btn-default">NO</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
